baseURL: "https://example.org/" # 保留你的原域名设置
title: "我的博客"                  # 保留你的原标题
theme: hugo-theme-next           # 切换为 NexT 主题以支持下方的高级配置

# ---------------------------------------------------------------
# 1. 核心语言与地区设置 (合并优化)
# ---------------------------------------------------------------
defaultContentLanguage: zh-cn
languageCode: zh-CN
hasCJKLanguage: true             # 必须开启，确保中文字数统计准确
timeZone: "Asia/Shanghai"        # 保留你的时区设置

# ---------------------------------------------------------------
# 2. 链接与内容优化 (核心保留项：解决思源文件名乱码)
# ---------------------------------------------------------------
permalinks:
  # 完美保留你原有的设置，适配 SiYuan 导出的文件名
  post: "/:year/:month/:title/"

# ---------------------------------------------------------------
# 3. Markdown 渲染引擎设置
# ---------------------------------------------------------------
markup:
  goldmark:
    renderer:
      unsafe: true # 允许 Markdown 中包含 HTML (思源导出必备)
  highlight:
    codeFences: true
    guessSyntax: true
    lineNos: true
    style: "monokai" # 保留你喜欢的深色高亮风格
    lineNumbersInTable: true

# ---------------------------------------------------------------
# 4. 菜单设置 (采用 NexT 的结构，内容已适配)
# ---------------------------------------------------------------
menu:
  main:
    - identifier: home
      name: 首页
      pageRef: /
      pre: home
      weight: 1
    - identifier: categories
      name: 分类
      pageRef: /categories/
      pre: th
      weight: 2
    - identifier: tags
      name: 标签
      pageRef: /tags/
      pre: tags
      weight: 3
    - identifier: archives
      name: 归档
      pageRef: /archives/
      pre: archive
      weight: 4
    - identifier: about
      name: 关于
      pageRef: /about/
      pre: user
      weight: 5

# ---------------------------------------------------------------
# 5. 主题参数配置 (移植自 hugo copy.yaml)
# ---------------------------------------------------------------
params:
  # 页面布局模式：Gemini 是 NexT 中最经典的左侧独立侧边栏风格
  scheme: Gemini
  darkmode: true # 开启暗黑模式切换

  # 站点描述
  author: Varyan.Z  # 建议修改为你的名字
  description: "记录微电子、IC设计与生活思考" # 融合了你原文件中的描述

  # -------------------------------------------------------------
  # 侧边栏设置 (NexT 强项)
  # -------------------------------------------------------------
  sidebar:
    position: left
    width: 256
    display: post
    avatar:
      # 请确保 /static/imgs/ 下有你的头像图片，否则请注释掉
      url: /imgs/avatar.png 
      rounded: true
      rotated: true
  
  siteState:
    basic: true
    views:
      enable: true
      plugin: busuanzi # 开启不蒜子访问统计

  # 社交链接 (建议根据实际情况修改)
  socials:
    social0: Github || https://github.com/你的用户名 || fab fa-github
    social1: Email || mailto:你的邮箱@example.com || fa fa-envelope
    social2: 知乎 || https://www.zhihu.com/ || fa fa-book

  socialIcons:
    enable: true
    transition: true

  # -------------------------------------------------------------
  # 文章页面设置
  # -------------------------------------------------------------
  toc:
    enable: true
    number: true
    wrap: false
    maxDepth: 3 # 目录深度

  postMeta:
    itemText: true
    created: true
    updated:
      enable: true
      anotherDay: true
    categories: true
    wordCount: true # 显示字数
    readTime: true  # 显示阅读时长
    views:
      enable: true
      plugin: busuanzi

  # 代码块样式 (NexT 特有)
  codeblock:
    style: mac      # 这是一个很好看的 Mac 窗口风格
    copyBtn: true   # 开启代码复制按钮

  # -------------------------------------------------------------
  # 功能增强
  # -------------------------------------------------------------
  # 返回顶部按钮
  backTop:
    enable: true
    scrollpercent: true

  # 阅读进度条
  readingProgress:
    enable: true
    color: "#37c6c0"
    position: top
    height: 3px

  # -------------------------------------------------------------
  # 数学公式 (关键：适配微电子公式推导)
  # -------------------------------------------------------------
  # NexT 使用 mathjax 或 katex，这里配置为 mathjax
  math: mathjax

  # -------------------------------------------------------------
  # 本地搜索 (技术博客必备)
  # -------------------------------------------------------------
  localSearch:
    enable: true
    path: /searchindexes.xml
    trigger: auto
    topNPerArticle: -1

  # -------------------------------------------------------------
  # 评论系统 (根据需要开启)
  # -------------------------------------------------------------
  comments:
    enable: true
    active: waline # 如果你有部署 Waline，否则建议改为 false
    storage: true

  # Waline 配置 (如果没有服务端，请将 comments.enable 设为 false)
  waline:
    placeholder: "欢迎交流 IC 设计心得..."
    serverURL: # 填入你的 Waline 服务端地址

# ---------------------------------------------------------------
# 6. 输出配置 (为搜索功能服务)
# ---------------------------------------------------------------
outputs:
  home: ["HTML", "RSS", "LocalIndexes"] # LocalIndexes 用于生成搜索索引

outputFormats:
  LocalIndexes:
    mediaType: application/xml
    baseName: searchindexes
    isPlainText: true
    notAlternative: true