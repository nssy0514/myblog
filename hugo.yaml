baseURL: "https://example.org/" # 保留你的原域名设置
title: "我的博客"                  # 保留你的原标题
theme: hugo-theme-next           # 切换为 NexT 主题以支持下方的高级配置

# ---------------------------------------------------------------
# 1. 核心语言与地区设置 (合并优化)
# ---------------------------------------------------------------
defaultContentLanguage: zh-cn
languageCode: zh-CN
hasCJKLanguage: true             # 必须开启，确保中文字数统计准确
timeZone: "Asia/Shanghai"        # 保留你的时区设置

# ---------------------------------------------------------------
# 2. 链接与内容优化 (核心保留项：解决思源文件名乱码)
# ---------------------------------------------------------------
permalinks:
  # 完美保留你原有的设置，适配 SiYuan 导出的文件名
  post: "/:year/:month/:title/"

# ---------------------------------------------------------------
# 3. Markdown 渲染引擎设置
# ---------------------------------------------------------------
markup:
  goldmark:
    renderer:
      unsafe: true # 允许 Markdown 中包含 HTML (思源导出必备)
  highlight:
    codeFences: true
    guessSyntax: true
    lineNos: true
    style: "monokai" # 保留你喜欢的深色高亮风格
    lineNumbersInTable: true

# ---------------------------------------------------------------
# 4. 菜单设置 (采用 NexT 的结构，内容已适配)
# ---------------------------------------------------------------
menu:
  main:
    - identifier: home
      name: 首页
      pageRef: /
      pre: home
      weight: 1
    - identifier: categories
      name: 分类
      pageRef: /categories/
      pre: th
      weight: 2
    - identifier: tags
      name: 标签
      pageRef: /tags/
      pre: tags
      weight: 3
    - identifier: archives
      name: 归档
      pageRef: /archives/
      pre: archive
      weight: 4
    - identifier: about
      name: 关于
      pageRef: /about/
      pre: user
      weight: 5

# ---------------------------------------------------------------
# 5. 主题参数配置 (移植自 hugo copy.yaml)
params:
  # ==========================================
  # 1. 核心布局与外观 (必须完整)
  # ==========================================
  scheme: Gemini
  darkmode: true
  
  # [修复报错] 滚动条设置
  bodyScrollbar:
    overlay: false
    stable: true

  # [修复报错] 移动端布局
  mobileLayoutEconomy: true

  # [修复报错] 主题配色
  themeColor:
    light: "#222"
    dark: "#222"

  # [修复报错] 字体设置 (防止 font-family 报错)
  font:
    enable: true
    global:
      external: true
      family: Lato
    title:
      external: true
      family:
    headings:
      external: true
      family:
    posts:
      external: true
      family:
    codes:
      external: true
      family:

  # ==========================================
  # 2. 组件样式 (防止 "...r" 和 "...e" 报错)
  # ==========================================
  
  # [关键嫌疑人] 书签功能 (缺少这个会导致 color 报错)
  bookmark:
    enable: false
    color: "#222"
    save: manual

  # [关键嫌疑人] 侧边栏细节 (缺少 padding/offset 会报错)
  sidebar:
    position: left
    width: 256
    display: post
    padding: 18  # 缺失会导致计算错误
    offset: 12   # 缺失会导致计算错误
    avatar:
      url: /imgs/avatar.png
      rounded: true
      rotated: true

  # [防报错] 提示块样式 (Note Tag)
  note:
    style: simple
    icons: true
    lightBgOffset: 0

  # [防报错] 代码块样式
  codeblock:
    style: mac
    copyBtn: true
    maxHeight: 200

  # [防报错] 动画设置
  motion:
    enable: true
    async: true
    transition:
      postBlock: fadeIn
      postHeader: fadeInDown
      postBody: fadeInDown
      collHeader: slideInRight
      sidebar: fadeInUp

  # ==========================================
  # 3. 个人信息与功能
  # ==========================================
  author: Varyan.Z
  description: "记录微电子、IC设计与生活思考"
  
  # 底部信息 (包含 icon color)
  footer:
    since: 2025
    icon:
      name: fa fa-heart
      animated: true
      color: "#ff0000"
    powered: true
    beian:
      enable: false

  # 社交链接
  socials:
    social0: Github || https://github.com/你的用户名 || fab fa-github
    social1: Email || mailto:你的邮箱@example.com || fa fa-envelope

  socialIcons:
    enable: true
    transition: true

  # 目录设置
  toc:
    enable: true
    number: true
    wrap: false
    maxDepth: 3

  # 文章元数据
  postMeta:
    itemText: true
    created: true
    updated:
      enable: true
      anotherDay: true
    categories: true
    wordCount: true
    readTime: true
    views:
      enable: true
      plugin: busuanzi

  # 阅读进度条
  readingProgress:
    enable: true
    color: "#37c6c0"
    position: top
    height: 3px

  # 搜索与数学公式
  localSearch:
    enable: true
    path: /searchindexes.xml
    trigger: auto
    topNPerArticle: -1

  math: mathjax

  # -------------------------------------------------------------
  # 本地搜索 (技术博客必备)
  # -------------------------------------------------------------
  localSearch:
    enable: true
    path: /searchindexes.xml
    trigger: auto
    topNPerArticle: -1

  # -------------------------------------------------------------
  # 评论系统 (根据需要开启)
  # -------------------------------------------------------------
  comments:
    enable: true
    active: waline # 如果你有部署 Waline，否则建议改为 false
    storage: true

  # Waline 配置 (如果没有服务端，请将 comments.enable 设为 false)
  waline:
    placeholder: "欢迎交流 IC 设计心得..."
    serverURL: # 填入你的 Waline 服务端地址

# ---------------------------------------------------------------
# 6. 输出配置 (为搜索功能服务)
# ---------------------------------------------------------------
outputs:
  home: ["HTML", "RSS", "LocalIndexes"] # LocalIndexes 用于生成搜索索引

outputFormats:
  LocalIndexes:
    mediaType: application/xml
    baseName: searchindexes
    isPlainText: true
    notAlternative: true